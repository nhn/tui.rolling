/*!
 * tui-rolling.min.js
 * @version 2.2.0
 * @author NHNEnt FE Development Lab <dl_javascript@nhnent.com>
 * @license MIT
 */
!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i(require("tui-code-snippet")):"function"==typeof define&&define.amd?define(["tui-code-snippet"],i):"object"==typeof exports?exports.Rolling=i(require("tui-code-snippet")):(t.tui=t.tui||{},t.tui.Rolling=i(t.tui&&t.tui.util))}(this,function(t){return function(t){function i(n){if(e[n])return e[n].exports;var s=e[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}var e={};return i.m=t,i.c=e,i.p="dist",i(0)}([function(t,i,e){"use strict";var n=e(1),s=e(4),a=e(3),r=n.defineClass({init:function(t,i){var e=!!t.isAuto,r=!n.isExisty(t.usageStatistics)||t.usageStatistics;this._options=t,this._flow=t.flow||"next",this._isDrawn=!!t.isDrawn,this._timer=null,this._delayTime=t.delayTime||3e3,this._model=t.isDrawn?null:new a(t,i),this._roller=new s(t,this._model&&this._model.getData(),this),t.initNum&&this.moveTo(t.initNum),e&&this.auto(),r&&n.sendHostname("rolling","UA-129987462-1")},roll:function(t,i){var e;if(i=i||this._flow,"idle"===this._roller.status)if(this._options.isVariable){if(!t)throw new Error("roll must run with data");this.setFlow(i),this._roller.move(t)}else this.setFlow(i),this._model&&(e=this._model.changeCurrent(i),t=this._model.getData()),e||this._roller.move(t)},setFlow:function(t){this._flow=t,this._roller.setFlow(t)},moveTo:function(t){var i,e,n,s,a,r,o,h,l;if(this._isDrawn)return void this._roller.moveTo(t);if(i=this._model.getDataListLength(),e=Math.min(i,t),n=Math.max(1,t),s=this._model.getCurrent(),isNaN(Number(t)))throw new Error("#PageError moveTo method have to run with page");if(this._options.isVariable)throw new Error("#DataError : Variable Rolling can't use moveTo");for(o=this.isNegative(t-s),t=o?n:e,h=o?"prev":"next",r=Math.abs(t-s),a=this._options.duration/r,this.setFlow(h),l=0;l<r;l+=1)this._model.changeCurrent(h),this._roller.move(this._model.getData(),a)},isNegative:function(t){return!isNaN(t)&&t<0},stop:function(){window.clearInterval(this._timer)},auto:function(){this.stop(),this._timer=window.setInterval(n.bind(function(){this._model.changeCurrent(this._flow),this._roller.move(this._model.getData())},this),this._delayTime)}});n.CustomEvents.mixin(r),t.exports=r},function(i,e){i.exports=t},function(t,i){"use strict";var e=function(){function t(t){return function(i){return t(i)}}function i(t){return function(i){return 1-t(1-i)}}function e(t){return function(i){var e;return e=i<.5?t(2*i)/2:(2-t(2*(1-i)))/2}}function n(t){return t}function s(t){return Math.pow(t,2)}function a(t){return 1-Math.sin(Math.acos(t))}var r,o,h,l,u,_;return r=t(s),o=t(a),h=i(s),l=i(a),u=e(s),_=e(a),{linear:n,easeIn:r,easeOut:h,easeInOut:u,quadEaseIn:r,quadEaseOut:h,quadEaseInOut:u,circEaseIn:o,circEaseOut:l,circEaseInOut:_}}();t.exports=e},function(t,i,e){"use strict";var n=e(1),s=function(t){this.prev=null,this.next=null,this.data=t},a={_initData:function(t){var i,e,a=null;e=n.map(t,function(e,n){var r=new s(e);return r.prev=a,a?a.next=r:i=r,n===t.length-1&&(r.next=i,i.prev=r),a=r,r},this),e.unshift(null),this._datalist=e},getData:function(t){return this._datalist[t||this._current].data},getDataListLength:function(){return this._datalist.length-1},getPrevData:function(t){return this._datalist[t||this._current].prev.data},getNextData:function(t){return this._datalist[t||this._current].next.data},changeCurrent:function(t){var i=this.getDataListLength();if("prev"===t){if(this._current-=1,this._current<1)return this._current=this._isCircular?i:1,!0}else if(this._current+=1,this._current>i)return this._current=this._isCircular?1:i,!0;return!1},getCurrent:function(){return this._current}},r={_initData:function(t){this._data=new s(t)},getData:function(){return this._data.data},setData:function(t,i){this._data[t]=new s(i)},severLink:function(t){var i=this._data;this._data=this._data[t],i[t]=null},getPrevData:function(){return this._data.prev&&this._data.prev.data},getNextData:function(){return this._data.next&&this._data.next.data}},o=n.defineClass({init:function(t,i){this.isVariable=!!t.isVariable,this._datalist=null,this._data=null,this._current=t.initNum||1,this._isCircular=!n.isBoolean(t.isCircular)||t.isCircular,this.isVariable?this.mixin(r):this.mixin(a),this._initData(i)},mixin:function(t){n.extend(this,t)}});t.exports=o},function(t,i,e){"use strict";var n=e(1),s=e(2),a={_setContainer:function(){var t,i,e,s,a=this._options,r=this._element,o=r.firstChild;a.wrapperTag?(e=a.wrapperTag&&a.wrapperTag.split(".")[0],s=a.wrapperTag&&a.wrapperTag.split(".")[1]||"",t=document.createElement(e),s&&(t.className=s),this._element.innerHTML="",this._element.appendChild(t)):(n.isHTMLTag(o)&&(t=o),i=o&&o.nextSibling,n.isHTMLTag(i)?t=i:(t=document.createElement("ul"),this._element.appendChild(t))),this._container=t},_setPanel:function(t){var i=this.panel,e=this._getElementInfo();this._container.innerHTML="",n.forEach(i,function(t,n){i[n]=this._makeElement(e.tag,e.className,n)},this),i.center.innerHTML=t,this._container.appendChild(i.center)},_getElementInfo:function(){var t,i,e=this._container.firstChild,s=this._options;return n.isString(s.panelTag)?(t=s.panelTag.split(".")[0],i=s.panelTag.split(".")[1]||""):(n.isHTMLTag(e)||(e=e&&e.nextSibling),t=n.isHTMLTag(e)?e.tagName:"li",i=e&&e.className||""),{tag:t,className:i}},_makeElement:function(t,i){var e=document.createElement(t);return e.className=i,e.style.position="absolute",e.style.width="100%",e.style.height="100%",e.style.left="0px",e.style.top="0px",e},_updatePanel:function(t){this.panel[this._flow||"center"].innerHTML=t},_appendMoveData:function(){var t=this._flow,i=this.panel[t],e=i.style,n=("prev"===t?-this._distance:this._distance)+"px";e[this._range]=n,this.movePanel=i,this._container.appendChild(i)},_getMoveSet:function(){var t,i=this._flow;return t="prev"===i?[0,this._distance]:[-this._distance,0]},_getStartSet:function(){var t=this.panel,i=this._flow,e=this._range,n="prev"===i,s=n?t.prev:t.center,a=n?t.center:t.next;return[parseInt(s.style[e],10),parseInt(a.style[e],10)]},_setTarget:function(t){this._targets=[this.panel.center],"prev"===t?this._targets.unshift(this.panel[t]):this._targets.push(this.panel[t])},move:function(t,i,e){var n;return e=e||this._flow,"idle"!==this.status?void this._queueing(t,i,e):(this.status="run",(n=this._rolling.invoke("beforeMove",{data:t}))?(this._updatePanel(t),this._appendMoveData(),this._setTarget(e),void(this._motion?this._moveWithMotion(i):this._moveWithoutMotion())):void(this.status="idle"))},_moveWithoutMotion:function(){var t=this._getMoveSet(),i=this._range;n.forEach(this._targets,function(e,n){e.style[i]=t[n]+"px"}),this.complete()},_moveWithMotion:function(t){var i=this._flow,e=this._getStartSet(i),s=this._distance,a=this._range;t=t||this._duration,this._animate({delay:10,duration:t||1e3,delta:this._motion,step:n.bind(function(t){n.forEach(this._targets,function(n,r){var o="prev"===i?s*t:-(s*t);n.style[a]=e[r]+o+"px"})},this),complete:n.bind(this.complete,this)})},complete:function(){var t,i,e=this.panel,s=this._flow;t=e.center,e.center=e[s],e[s]=t,this._targets=null,this._container.removeChild(t),this.status="idle",n.isNotEmpty(this._queue)?(i=this._queue.shift(),this.move(i.data,i.duration,i.flow)):this._rolling.fire("afterMove")}},r={_setContainer:function(){var t,i=this._element,e=i.firstChild;this._isDrawn&&(t=n.isHTMLTag(e)?e:e.nextSibling,this._container=t,this._container.style[this._range]=0),this._setItemCount()},_isLimitPoint:function(t){var i,e=this._getCurrentPosition();return i="next"===t?!(this.limit>-e):!(e<0)},_getCurrentPosition:function(){return parseInt(this._container.style[this._range],10)},move:function(t,i){var e;return i=i||this._flow,"idle"!==this.status?void this._queueing(t,i):(this.status="run",(e=this._rolling.invoke("beforeMove"))?!this._isCircular&&this._isLimitPoint(i)?void(this.status="idle"):(this._isCircular&&this._rotatePanel(i),void(this._motion?this._moveWithMotion(t):this._moveWithoutMotion())):void(this.status="idle"))},complete:function(){this._isCircular&&this._setPanel(),this.status="idle"},_getMoveDistance:function(t){var i,e=this._getCurrentPosition(),n=this._distance*this._unitCount;if("prev"===t){if(this._isCircular)return this._distance;i=e+n>0?-e:n}else{if(this._isCircular)return-this._distance;i=n>this.limit+e?-this.limit-e:-n}return i},_moveWithoutMotion:function(){var t=this._flow,i=this._getMoveDistance(t),e=this._range,n=parseInt(this._container.style[e],10);this._container.style[e]=n+i+"px",this.complete()},_moveWithMotion:function(t){var i=this._flow,e=this._container,s=this._range,a=parseInt(e.style[s],10),r=this._getMoveDistance(i);t=t||this._duration,this._animate({delay:10,duration:t||1e3,delta:this._motion,step:n.bind(function(t){var i=r*t;e.style[s]=a+i+"px"},this),complete:n.bind(this.complete,this)})},_rotatePanel:function(t){var i,e,s,a,r=this._range,o="prev"===t,h=this._basis;return t=t||this._flow,this._setPartOfPanels(t),e=this._movePanelSet,s=e.length,a=this._getMoveDistance(t),this._isInclude(this._panels[this._basis],e)?void(this._basis=o?h-s:h+s):(o?(i=this._panels[0],n.forEach(e,function(t){this._container.insertBefore(t,i)},this)):n.forEach(e,function(t){this._container.appendChild(t)},this),void(this._container.style[r]=parseInt(this._container.style[r],10)-a+"px"))},_isInclude:function(t,i){for(var e=0,n=i.length,s=!1;e<n;e+=1)if(i[e]===t){s=!0;break}return s},_setPartOfPanels:function(t){var i=this._itemcount,e="prev"===t,n="page"!==this._rollunit?1:i,s=e?-n:n,a=e?[s]:[0,s];this._movePanelSet=this._panels.slice.apply(this._panels,a)},_setItemCount:function(){var t=this._element,i=t.style,e=parseInt(i.width||t.clientWidth,10),n=parseInt(i.height||t.clientHeight,10),s=this._element.getElementsByTagName("li")[0],a=s.style,r=parseInt(a.width||s.clientWidth,10),o=parseInt(a.height||s.clientHeight,10);"left"===this._range?this._itemcount=Math.round(e/r):this._itemcount=Math.round(n/o)},_initPanel:function(){var t=this._container,i=t.childNodes;i=n.toArray(i),this._panels=n.filter(i,function(t){return n.isHTMLTag(t)}),n.forEach(this._panels,function(t,i){t.className+=" __index"+i+"__"})},_setPanel:function(){var t=this._container,i=t.childNodes;i=n.toArray(i),this._panels=n.filter(i,function(t){return n.isHTMLTag(t)}),this._basis=this._basis||0,this._setBoundary()},_setBoundary:function(){var t=this._panels,i=this._distance,e=this._range,n=parseInt(this._element.style["left"===e?"width":"height"],10),s="page"===this._rollunit?i/this._itemcount:i*t.length,a=s-n;this.limit=a},_checkPagePosition:function(t){var i=null,e=this._panels;return n.forEach(e,function(e,s){e.className.indexOf("__index"+t)!==-1&&(n.isExisty(i)||(i=s))}),i},moveTo:function(t){var i,e,n,s=this._itemcount,a=this._panels.length,r=this._distance;t=Math.max(t,0),t=Math.min(t,this._panels.length-1),i=this._checkPagePosition(t),e="page"===this._rollunit?r/s:r,n=-i*e,this._isCircular?(n=Math.max(n,-(e*(a-s))),this._basis=i,this._setPanel()):n=Math.max(n,-this.limit),this._container.style[this._range]=n+"px"}},o=n.defineClass({init:function(t,i,e){this._options=t,this._element=n.isString(t.element)?document.getElementById(t.element):t.element,this._direction=t.direction||"horizontal",this._range="horizontal"===this._direction?"left":"top",this._motion=s[t.motion||"noeffect"],this._rollunit=t.unit||"page",this._isDrawn=!!t.isDrawn,this._itemcount=t.itemcount,this._flow=t.flow||"next",this._duration=t.duration||1e3,this._isCircular=!n.isExisty(t.isCircular)||t.isCircular,this.status="idle",this._container=null,this.panel={prev:null,center:null,next:null},this._panels=[],this._basis=null,this._distance=0,this._targets=[],this._queue=[],this._unitCount="page"===t.rollunit?1:t.unitCount||1,this._rolling=e,this._isDrawn?this.mixin(r):this.mixin(a),this._setContainer(),this._masking(),this._setUnitDistance(),this._isDrawn&&this._initPanel(),this._setPanel(i)},mixin:function(t){n.extend(this,t)},_masking:function(){var t=this._element,i=t.style;i.position="relative",i.overflow="hidden",i.width=i.width||t.clientWidth+"px",i.height=i.height||t.clientHeight+"px"},_setUnitDistance:function(){var t,i=this._element.style;t="horizontal"===this._direction?i.width.replace("px",""):i.height.replace("px",""),"page"!==this._rollunit&&this._isDrawn&&(t=Math.ceil(t/this._itemcount)),this._distance=parseInt(t,10)},_queueing:function(t,i,e){this._queue.push({data:t,duration:i,flow:e})},setFlow:function(t){this._flow=t||this._flow||"next"},changeMotion:function(t){this._motion=s[t]},_animate:function(t){var i=new Date,e=window.setInterval(function(){var n,s=new Date-i,a=s/t.duration;a>1&&(a=1),n=t.delta(a),t.step(n),1===a&&(window.clearInterval(e),t.complete())},t.delay||10)}});t.exports=o}])});